<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hero with Stage Picture + Recent Articles</title>

  <style>
    /*
    ===============
    1) MAIN HERO CONTAINER (Large Screens)
    - Two side-by-side columns: 
      - Left: Video + description + buttons
      - Right: Stage picture + articles
    ===============
    */
    .hero-main-container {
      display: flex;
      flex-direction: row;
      width: 100%;
      background-color: var(--main-background-color);
      padding: 1rem;
      margin-bottom: 0;
      box-sizing: border-box;
    }

    /* Left Column (C1): Video + description + buttons */
    .hero-col-left {
      display: flex;
      flex-direction: column;
      width: 17.4%;
      min-width: 200px;
      margin-right: 1rem;
      box-sizing: border-box;
      flex-shrink: 1;
    }

    /* Right Column (C2): Stage Picture + articles */
    .hero-col-right {
      display: flex;
      flex-direction: column;
      flex: 1;
      box-sizing: border-box;
    }

    /*
    ===============
    2) VIDEO, DESCRIPTION & BUTTONS
    ===============
    */
    .abde-wrapper {
      /* Large screens: stack them if you want, or keep them in one column */
      display: block;
      width: 100%;
    }

    .video-container {
      width: 100%;
      margin-bottom: 1rem;
      padding-top: 150%;  /* 16:9 aspect ratio trick */
      border-radius: 8px;
      overflow: hidden;
      position: relative;
    }
    .video-container video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .abde-main-description {
      width: 100%;
      color: #0e0e0f;
      background: rgba(255, 255, 255, 0.85);
      padding: 0.75rem;
      border-radius: 8px;
      backdrop-filter: blur(5px);
      box-sizing: border-box;
      margin-bottom: 1rem;
    }
    .abde-main-description p {
      margin: 0;
      line-height: 1.4;
    }
    .jumbotron-btns {
      margin-top: 1rem;
    }

    /*
    ===============
    3) STAGE PICTURE + ARTICLES
    ===============
    */
    .stage-picture-container {
      width: 100%;
      min-height: 320px;  /* for large screens */
      margin-bottom: 1rem;
      position: relative;
      opacity: 0.85; /* slight transparency */
    }
    .stage-picture {
      width: 100%;
      height: auto;
      display: block;
      object-fit: contain;
      border-radius: 5px;
    }

    .recent-articles-wrapper {
      /* Articles displayed below the stage picture */
    }

    /*
    ===============
    4) RESPONSIVE LAYOUT (≤992px)
       - Switch to a grid so we can reorder the sections easily:
         1) Stage Picture
         2) Video + Description
         3) Articles
       - Also keep video & description side by side (each 50%)
    ===============
    */
    @media (max-width: 992px) {
      .hero-main-container {
        /* Turn off the big-screen flex */
        display: grid;
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
        grid-gap: 1rem;
        grid-template-areas:
          "stage"
          "video"
          "articles";
      }

      /* The right column (which has stage + articles) becomes 'contents' so we can place children in the grid areas. */
      .hero-col-right {
        display: contents;
      }

      /* Stage picture first */
      .stage-picture-container {
        grid-area: stage;
        min-height: auto !important;
        margin-bottom: 1rem;
      }

      /* video + description second */
      .hero-col-left {
        grid-area: video;
        width: 100%;
        margin: 0;
      }

      /* articles last */
      .recent-articles-wrapper {
        grid-area: articles;
      }

      /* Side-by-side for video + description (50% each) */
      .abde-wrapper {
        display: flex;
        flex-direction: row;
        gap: 1rem;
      }
      .video-container {
        width: 50%;
        padding-top: 75%; /* smaller aspect ratio for narrow screens */
        margin: 0;
      }
      .abde-main-description {
        width: 50%;
        margin: 0;
        font-size: 0.9rem; /* slightly smaller font on small screens */
      }

      /* Buttons smaller on small screens */
      .jumbotron-btns button {
        font-size: 0.85rem;
        padding: 0.4rem 0.75rem;
      }
    }

    /*
    ===============
    5) VERY SMALL SCREENS (≤576px)
    - Keep video & description at 50% each, further shrink font if needed
    ===============
    */
    @media (max-width: 576px) {
      .video-container {
        width: 50%;
        padding-top: 75%;
      }
      .abde-main-description {
        width: 50%;
        font-size: 0.85rem;
      }
      .jumbotron-btns button {
        font-size: 0.75rem;
      }
    }
  </style>
</head>

<body>
  <div class="container-fluid">
    <div class="hero-main-container">
      <!-- LEFT COLUMN (C1): Video & Description -->
      <div class="hero-col-left">
        <div class="abde-wrapper">
          <div class="video-container">
            <video autoplay loop muted playsinline>
              <source src="assets/videos/newvideo_h264.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
          <div class="abde-main-description">
            <p style="font-family: Arial, sans-serif; line-height: 1.6;">
              <span style="font-weight: bold;">Abde</span> is a Technologist, Consultant, ex-CEO, and Keynote speaker.
              <br>
              Abde worked last 17 years with Fortinet, PaloAlto Networks, Juniper, Huawei.
              <br>
              <span style="font-style: italic;">CCIE, JNCIE, NSE4/7, PAN PCNSE. Blogger & chess player.</span>
            </p>
            <div class="jumbotron-btns">
              <a href="https://www.linkedin.com/in/abdessamadelamrani/" target="_blank">
                <button class="btn btn-md btn-warning"><strong>LinkedIn</strong></button>
              </a>
              <a href="https://github.com/abdessamad-elamrani" target="_blank">
                <button class="btn btn-md btn-warning"><strong>GitHub</strong></button>
              </a>
            </div>
          </div>
        </div><!-- /.abde-wrapper -->
      </div><!-- /.hero-col-left -->

      <!-- RIGHT COLUMN (C2): Stage Picture + Recent Articles -->
      <div class="hero-col-right">
        <!-- Stage Picture -->
        <div class="stage-picture-container">
          <img
            class="stage-picture"
            src="/assets/img/{{ site.home_background_image }}"
            alt="Background"
          />
        </div>
        <!-- Recent Articles -->
        <div class="recent-articles-wrapper">
          {% include recent_articles.html %}
        </div>
      </div><!-- /.hero-col-right -->
    </div><!-- /.hero-main-container -->
  </div><!-- /.container-fluid -->

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const video = document.getElementById('profile-video');
      // Optionally pause on last frame
      if (video) {
        video.addEventListener('ended', function() {
          video.pause();
        });
      }
    });
  </script>
</body>
</html>