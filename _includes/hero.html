<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hero with Stage Picture + Recent Articles</title>

  <style>
    /*  
    ===============
    1) MAIN HERO CONTAINER
    - Large screens: two columns, side by side.
    ===============
    */
    .hero-main-container {
      display: flex;    
      flex-direction: row;    
      width: 100%;    
      background-color: var(--main-background-color);
      padding: 1rem;
      margin-bottom: 0;
      box-sizing: border-box;
    }

    /* LEFT COLUMN (C1): Video + Description */
    .hero-col-left {
      display: flex;
      flex-direction: column;
      width: 17.4%;
      min-width: 200px;
      margin-right: 1rem;
      box-sizing: border-box;
      flex-shrink: 1;
    }

    /* RIGHT COLUMN (C2): Stage Picture + Articles */
    .hero-col-right {
      display: flex;
      flex-direction: column;
      flex: 1;
      box-sizing: border-box;
    }

    /*
    ===============
    2) VIDEO + DESCRIPTION STYLING
    ===============
    */
    .media-container {
      display: flex;
      flex-direction: column;
      gap: 1rem;
      margin-bottom: 1rem;
      width: 100%;
    }

    .video-container {
      width: 100%;
      margin-bottom: 1rem;
      padding-top: 150%;  /* 16:9 aspect ratio trick */
      border-radius: 8px;
      overflow: hidden;
      position: relative;
    }

    .video-container video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    .abde-main-description {
      width: 100%;
      color: #0e0e0f;
      background: rgba(255, 255, 255, 0.85);
      padding: 0.75rem;
      border-radius: 8px;
      backdrop-filter: blur(5px);
      box-sizing: border-box;
      margin-bottom: 1rem;
    }

    .abde-main-description p {
      margin: 0;
    }

    /*
    ===============
    3) STAGE PICTURE + RECENT ARTICLES
    ===============
    */
    .stage-picture-container {
      width: 100%;
      min-height: 320px;  /* For large screens only */
      margin-bottom: 1rem;
      position: relative;
      opacity: 0.85;      /* Slight transparency */
    }

    .stage-picture {
      width: 100%;
      height: auto;
      display: block;
      object-fit: cover;
      border-radius: 5px;
    }

    /*
    ===============
    4) RESPONSIVE REORDERING
    - For small screens (≤992px): 
        1) Stage picture on top
        2) Video + description
        3) Articles at the bottom
      Also remove the large min-height to prevent unused space.
    ===============
    */
    @media (max-width: 992px) {
      .hero-main-container {
        /* Switch from flex to grid to reorder easily */
        display: grid;
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
        grid-gap: 1rem;
        grid-template-areas:
          "stage"
          "video"
          "articles";
      }

      /* We want .hero-col-right to let children become direct grid items */
      .hero-col-right {
        display: contents; /* collapses container so children can be re-laid out in the grid */
      }

      /* Stage picture first */
      .stage-picture-container {
        grid-area: stage;
        min-height: auto !important;  /* Override so it only fits the picture */
      }

      /* Left column (video+desc) second */
      .hero-col-left {
        grid-area: video;
        width: 100%;
        margin: 0;
      }

      /* Articles last */
      .recent-articles-wrapper {
        grid-area: articles;
      }

      /* Keep video & description side by side for small screens */
      .media-container {
        flex-direction: row;
        gap: 1rem;
      }
      .video-container {
        width: 50%;
        padding-top: 75%; /* smaller ratio for narrower screens */
        margin: 0;
      }
      .abde-main-description {
        width: 50%;
        display: flex;
        align-items: center;
        margin: 0;
      }
    }

    /*
    ===============
    5) VERY SMALL SCREENS (≤576px)
    ===============
    */
    @media (max-width: 576px) {
      /* STILL keep video and description side by side, per request */
      .media-container {
        flex-direction: row;
      }
      .video-container {
        width: 50%;
        padding-top: 75%;
      }
      .abde-main-description {
        width: 50%;
      }
    }
  </style>
</head>

<body>
  <div class="container-fluid">
    <div class="hero-main-container">
      <!-- Left Column (C1): Video + Description -->
      <div class="hero-col-left">
        <div class="media-container">
          <div class="video-container">
            <video autoplay loop muted playsinline>
              <source src="assets/videos/newvideo_h264.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
          <div class="abde-main-description">
            <p>
              <strong>Abde</strong> is a
              <strong>tech industry technologist, consultant ex-CEO, and keynote speaker</strong>.
              <br/><br/>
              Abde worked the last 16 years for top vendors in the cybersec/cloud/network space:
              <strong>Juniper Networks, Huawei, Palo Alto Networks, and Fortinet</strong>.
            </p>
            <div class="jumbotron-btns">
              <a href="https://www.linkedin.com/in/abdessamadelamrani/" target="_blank">
                <button class="btn btn-md btn-warning">
                  <strong>LinkedIn</strong>
                </button>
              </a>
              <a href="https://github.com/abdessamad-elamrani" target="_blank">
                <button class="btn btn-md btn-warning">
                  <strong>GitHub</strong>
                </button>
              </a>
            </div>
          </div>
        </div>
      </div>

      <!-- Right Column (C2): Stage Picture + Recent Articles -->
      <div class="hero-col-right">
        <!-- Stage Picture -->
        <div class="stage-picture-container">
          <img class="stage-picture" 
               src="/assets/img/{{ site.home_background_image }}" 
               alt="Background" />
        </div>
        <!-- Recent Articles -->
        <div class="recent-articles-wrapper">
          {% include recent_articles.html %}
        </div>
      </div>
    </div>
  </div>

  <script>
    // Example: Pause on last frame if desired
    document.addEventListener('DOMContentLoaded', function() {
      const video = document.getElementById('profile-video');
      if (video) {
        video.addEventListener('ended', function() {
          video.pause();
        });
      }
    });
  </script>
</body>
</html>