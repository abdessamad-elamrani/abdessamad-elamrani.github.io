<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Hero with Stage Picture + Recent Articles</title>

  <style>
    /* ==============
       1) MAIN HERO CONTAINER (Large Screens)
       - Left: Video + Description
       - Right: Stage Picture + Articles
       ============== */
    .hero-main-container {
      display: flex;
      flex-direction: row;
      width: 100%;
      background-color: var(--main-background-color);
      padding: 1rem;
      margin-bottom: 0;
      box-sizing: border-box;
    }
    .hero-col-left {
      display: flex;
      flex-direction: column;
      width: 17.4%;
      min-width: 200px;
      margin-right: 1rem;
      box-sizing: border-box;
      flex-shrink: 1;
    }
    .hero-col-right {
      display: flex;
      flex-direction: column;
      flex: 1;
      box-sizing: border-box;
    }

    /* Video container (large screens, 16:9 aspect ratio) */
    .video-container {
      width: 100%;
      margin-bottom: 1rem;
      padding-top: 150%; /* 16:9 aspect ratio trick */
      border-radius: 8px;
      overflow: hidden;
      position: relative;
    }
    .video-container video {
      position: absolute;
      top: 0;
      left: 0;
      width: 100%;
      height: 100%;
      object-fit: cover;
    }

    /* Description box (large screens) */
    .abde-main-description {
      width: 100%;
      color: #0e0e0f;
      background: rgba(255, 255, 255, 0.85);
      padding: 0.75rem;
      border-radius: 8px;
      backdrop-filter: blur(5px);
      box-sizing: border-box;
      margin-bottom: 1rem;
    }
    .abde-main-description p {
      margin: 0;
      line-height: 1.4;
    }
    .jumbotron-btns {
      margin-top: 1rem;
    }

    /* Stage Picture (large screens) */
    .stage-picture-container {
      width: 100%;
      min-height: 320px;
      margin-bottom: 1rem;
      position: relative;
      opacity: 0.85; /* slight transparency */
    }
    .stage-picture {
      width: 100%;
      height: auto;
      display: block;
      object-fit: contain;
      border-radius: 5px;
    }

    /* Recent articles wrapper under the stage picture */
    .recent-articles-wrapper {
      /* any styling you need */
    }

    /*
      ===============
      2) RESPONSIVE (≤992px)
         - Use a grid to reorder:
           1) Stage Picture
           2) Video + Description
           3) Articles
         - Scale down video + description visually
      ===============
    */
    @media (max-width: 992px) {
      .hero-main-container {
        display: grid;
        grid-template-columns: 1fr;
        grid-template-rows: auto auto auto;
        grid-gap: 1rem;
        grid-template-areas:
          "stage"
          "video"
          "articles";
      }

      .hero-col-right {
        /* Let the stage picture and articles be grid items */
        display: contents;
      }

      /* Stage picture first */
      .stage-picture-container {
        grid-area: stage;
        min-height: auto !important;
        margin-bottom: 1rem;
      }

      /* Then video + description */
      .hero-col-left {
        grid-area: video;
        margin: 0;
        width: 100%;
        display: block; /* reset */
      }

      /*
        **Scale down** the combined container so it appears smaller
        while still side by side. 
      */
      .abde-wrapper {
        display: flex;
        flex-direction: row;
        gap: 1rem;

        /* Scale down about ~70% of the normal size; adjust as needed */
        transform: scale(0.7);
        transform-origin: top center; 
        /* transform-origin ensures the “top center” stays in place
           while we scale  */
      }

      /* Side by side at 50% each of that scaled container */
      .video-container {
        width: 50%;
        padding-top: 75%; /* smaller ratio to keep it visually shorter */
        margin: 0;
      }
      .abde-main-description {
        width: 50%;
        margin: 0;
        font-size: 0.9rem; 
      }

      /* Articles last */
      .recent-articles-wrapper {
        grid-area: articles;
      }

      /* Smaller buttons on small screens */
      .jumbotron-btns button {
        font-size: 0.85rem;
        padding: 0.4rem 0.75rem;
      }
    }

    /*
      ===============
      3) VERY SMALL SCREENS (≤576px)
         - Keep the scale or tweak further
      ===============
    */
    @media (max-width: 576px) {
      .abde-main-description {
        font-size: 0.8rem;
      }
      .jumbotron-btns button {
        font-size: 0.75rem;
      }
    }
  </style>
</head>

<body>
  <div class="container-fluid">
    <div class="hero-main-container">
      <!-- LEFT COLUMN: Video + Description -->
      <div class="hero-col-left">
        <!-- abde-wrapper to hold both side by side on small screens -->
        <div class="abde-wrapper">
          <div class="video-container">
            <video autoplay loop muted playsinline>
              <source src="assets/videos/newvideo_h264.mp4" type="video/mp4">
              Your browser does not support the video tag.
            </video>
          </div>
          <div class="abde-main-description">
            <p style="font-family: Arial, sans-serif; line-height: 1.6;">
              <span style="font-weight: bold;">Abde</span> is a Technologist, Consultant, ex-CEO, and Keynote speaker.
              <br>
              Abde worked last 17 years with Fortinet, PaloAlto Networks, Juniper, Huawei.
              <br>
              <span style="font-style: italic;">CCIE, JNCIE, NSE4/7, PAN PCNSE. Blogger & chess player.</span>
            </p>
            <div class="jumbotron-btns">
              <a href="https://www.linkedin.com/in/abdessamadelamrani/" target="_blank">
                <button class="btn btn-md btn-warning"><strong>LinkedIn</strong></button>
              </a>
              <a href="https://github.com/abdessamad-elamrani" target="_blank">
                <button class="btn btn-md btn-warning"><strong>GitHub</strong></button>
              </a>
            </div>
          </div>
        </div><!-- /abde-wrapper -->
      </div><!-- /.hero-col-left -->

      <!-- RIGHT COLUMN: Stage Picture + Articles -->
      <div class="hero-col-right">
        <div class="stage-picture-container">
          <img
            class="stage-picture"
            src="/assets/img/{{ site.home_background_image }}"
            alt="Background"
          />
        </div>
        <div class="recent-articles-wrapper">
          {% include recent_articles.html %}
        </div>
      </div><!-- /.hero-col-right -->
    </div><!-- /.hero-main-container -->
  </div><!-- /.container-fluid -->

  <script>
    document.addEventListener('DOMContentLoaded', function() {
      const video = document.getElementById('profile-video');
      // Optionally pause on last frame
      if (video) {
        video.addEventListener('ended', function() {
          video.pause();
        });
      }
    });
  </script>
</body>
</html>