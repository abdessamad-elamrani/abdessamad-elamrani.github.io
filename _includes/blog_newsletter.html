<!-- Mailchimp Newletters -->
<div id="newsletter-signup">
    <h1>Stay Updated ! Subscribe to get news from me</h1>
    <div class="form-container">
        <form action="https://docs.google.com/forms/d/e/1FAIpQLSeuMLznMLG2-4Jt0ERad19ZL_kO-gQT4HkvTCFAE7HE1iIlew/formResponse" 
              method="post" 
              target="_blank"
              id="subscribe-form"
              onsubmit="return handleSubmit(event);">
            <div class="input-group">
                <input 
                    type="email" 
                    id="email-input"
                    name="entry.1452026899"
                    placeholder="Your email address" 
                    required
                >
                <button type="submit" class="submit-btn">Subscribe</button>
            </div>
            <div id="form-status" class="status-message"></div>
        </form>
    </div>
</div>

<style>
    #newsletter-signup {
        text-align: center;
        padding: 2rem 1rem;
    }

    #newsletter-signup h1 {
        margin-bottom: 1.5rem;
        font-size: 2rem;
        color: #ffffff;
    }

    .form-container {
        max-width: 500px;
        margin: 0 auto;
    }

    .input-group {
        display: flex;
        gap: 10px;
        margin-bottom: 10px;
    }

    #email-input {
        flex: 1;
        padding: 10px 15px;
        border: 2px solid rgba(255, 255, 255, 0.2);
        border-radius: 4px;
        background: rgba(255, 255, 255, 0.1);
        color: white;
        font-size: 16px;
    }

    #email-input::placeholder {
        color: rgba(255, 255, 255, 0.7);
    }

    #email-input:focus {
        outline: none;
        border-color: rgba(255, 255, 255, 0.5);
        background: rgba(255, 255, 255, 0.15);
    }

    .submit-btn {
        padding: 10px 20px;
        background: #ffffff;
        color: #8b0000;
        border: none;
        border-radius: 4px;
        font-size: 16px;
        cursor: pointer;
        transition: all 0.3s ease;
    }

    .submit-btn:hover {
        background: #f0f0f0;
        transform: translateY(-1px);
    }

    .status-message {
        margin-top: 10px;
        color: #ffffff;
        font-size: 14px;
        min-height: 20px;
    }

    @media (max-width: 768px) {
        #newsletter-signup h1 {
            font-size: 1.5rem;
        }

        .input-group {
            flex-direction: column;
        }

        .submit-btn {
            width: 100%;
        }
    }

    /* Hide the Google response page */
    iframe[name="hidden_iframe"] {
        display: none;
    }
</style>

<script>
function handleSubmit(event) {
    const form = document.getElementById('subscribe-form');
    const status = document.getElementById('form-status');
    
    // Show subscribing message
    status.textContent = 'Subscribing...';
    
    // Create a hidden iframe for the response
    let iframe = document.querySelector('iframe[name="hidden_iframe"]');
    if (!iframe) {
        iframe = document.createElement('iframe');
        iframe.name = 'hidden_iframe';
        document.body.appendChild(iframe);
    }
    
    // Set form target to the hidden iframe
    form.target = 'hidden_iframe';
    
    // Clear status after submission
    setTimeout(() => {
        status.textContent = 'Thanks for subscribing!';
        form.reset();
        setTimeout(() => {
            status.textContent = '';
        }, 3000);
    }, 1000);
    
    return true;
}
</script>
